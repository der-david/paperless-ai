<!DOCTYPE html>
<html lang="en" class="h-full" data-theme="light">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Paperless-ai Setup</title>
    <script src="https://cdn.tailwindcss.com/3.4.16"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <link rel="stylesheet" href="css/setup.css">
    <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
    <link rel="stylesheet" href="https://unpkg.com/tippy.js@6/dist/tippy.css" />
    <script src="https://unpkg.com/@popperjs/core@2"></script>
    <script src="https://unpkg.com/tippy.js@latest"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/Sortable/1.15.0/Sortable.min.js"></script>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/shepherd.js@10.0.1/dist/css/shepherd.css"/>
    <script src="https://cdn.jsdelivr.net/npm/shepherd.js@10.0.1/dist/js/shepherd.min.js"></script>
</head>
<body class="h-full">
    <button id="themeToggle" class="theme-toggle material-button-2">
        <i class="fas fa-moon dark:fas fa-sun"></i>
    </button>

    <div class="min-h-full">
        <nav class="modern-nav">
            <div class="mx-auto max-w-7xl px-6 lg:px-8">
                <div class="flex h-24 items-center justify-between">
                    <div class="flex items-center space-x-6">
                        <img src="/favicon.ico" alt="Paperless AI Logo" class="app-logo">
                        <div>
                            <h1 class="text-2xl font-bold">Paperless-AI <small><%= config.PAPERLESS_AI_VERSION %></small></h1>
                            <p class="text-sm text-secondary">Configuration Setup</p>
                        </div>
                    </div>
                </div>
            </div>
        </nav>

        <main class="py-10">
            <div class="mx-auto max-w-3xl px-6 lg:px-8">
                <!-- Progress Bar -->
                <div class="mb-6">
                    <div class="progress-bar">
                        <div class="progress-bar-fill"></div>
                    </div>
                </div>

                <!-- Main Form Card -->
                <div class="material-card">
                    <!-- Tab Navigation -->
                    <div class="tab-navigation border-b border-gray-200 mb-6">
                        <nav class="flex flex-wrap gap-2" role="tablist">
                            <button type="button"
                                    class="tab-button active flex items-center gap-2 px-4 py-3 text-sm font-medium border-b-2"
                                    data-tab="user-tab">
                                <i class="fas fa-user"></i>
                                User setup
                            </button>
                            <button type="button"
                                    class="tab-button flex items-center gap-2 px-4 py-3 text-sm font-medium border-b-2"
                                    data-tab="connection-tab">
                                <i class="fas fa-link"></i>
                                Connection
                            </button>
                            <button type="button"
                                    class="tab-button flex items-center gap-2 px-4 py-3 text-sm font-medium border-b-2"
                                    data-tab="ai-tab">
                                <i class="fas fa-robot"></i>
                                AI settings
                            </button>
                            <button type="button"
                                    class="tab-button flex items-center gap-2 px-4 py-3 text-sm font-medium border-b-2"
                                    data-tab="advanced-tab">
                                <i class="fas fa-cog"></i>
                                Advanced
                            </button>
                        </nav>
                    </div>

                    <form id="setupForm" class="space-y-12">
                        <!-- User Settings Tab -->
                        <div id="user-tab" class="tab-content active">
                            <section>
                                <h2 class="section-title">
                                    <i class="fas fa-user"></i>
                                    User settings
                                </h2>
                                <div class="space-y-6">
                                    <!-- User settings content -->
                                    <div class="form-group">
                                        <label for="username">Username</label>
                                        <input type="text"
                                               id="username"
                                               name="username"
                                               class="modern-input"
                                               required>
                                    </div>

                                    <div class="form-group">
                                        <label for="password">Password</label>
                                        <div class="password-input">
                                            <input type="password"
                                                   id="password"
                                                   name="password"
                                                   class="modern-input"
                                                   required>
                                            <button type="button" class="password-toggle" data-input="password">
                                                <i class="fas fa-eye"></i>
                                            </button>
                                        </div>
                                        <div id="password-strength" class="mt-2"></div>
                                    </div>

                                    <div class="form-group">
                                        <label for="confirmPassword">Confirm password</label>
                                        <div class="password-input">
                                            <input type="password"
                                                   id="confirmPassword"
                                                   name="confirmPassword"
                                                   class="modern-input"
                                                   required>
                                            <button type="button" class="password-toggle" data-input="confirmPassword">
                                                <i class="fas fa-eye"></i>
                                            </button>
                                        </div>
                                        <div id="password-match" class="mt-2"></div>
                                    </div>
                                </div>
                            </section>
                        </div>

                        <!-- Connection Settings Tab -->
                        <div id="connection-tab" class="tab-content hidden">
                            <%- include('partials/section-connection', { config, variant: 'setup' }) %>
                        </div>

                        <!-- AI Settings Tab -->
                        <div id="ai-tab" class="tab-content hidden">
                            <%- include('partials/section-ai-configuration', { config, variant: 'setup' }) %>
                        </div>

                        <!-- Advanced Settings Tab -->
                        <div id="advanced-tab" class="tab-content hidden">
                            <%- include('partials/section-advanced-settings', { config, variant: 'setup', includeRestrictions: false, includeExternalApi: false }) %>
                        </div>

                        <!-- Navigation Buttons -->
                        <div class="flex justify-between pt-6">
                            <button type="button" id="prevBtn" class="material-button hidden">
                                <i class="fas fa-arrow-left"></i>
                                Previous
                            </button>
                            <button type="button" id="nextBtn" class="material-button">
                                Next
                                <i class="fas fa-arrow-right"></i>
                            </button>
                            <button type="submit" id="submitBtn" class="material-button submit-btn hidden">
                                <i class="fas fa-save"></i>
                                Save Configuration
                            </button>
                        </div>
                    </form>
                </div>
            </div>
        </main>
    </div>

    <!-- Scripts -->
    <script src="js/theme-manager.js"></script>
    <script src="js/form-utils.js"></script>
    <script src="js/setup.js"></script>
    <script src="js/setup-extra.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>

    <!-- <script src="https://cdn.jsdelivr.net/npm/shepherd.js/dist/js/shepherd.min.js"></script>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/shepherd.js/dist/css/shepherd.css"> -->
</body>
</html>
